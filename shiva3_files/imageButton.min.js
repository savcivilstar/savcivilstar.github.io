"use strict";define("imageButton/skins/skins.json",[],function(){var e={};return e["wysiwyg.common.components.imagebutton.viewer.skins.ImageButtonSkin"]={react:[["a","link",[],{},["div",null,["_correct-positioning"],{},["div","defaultImage",[],{}]],["div",null,["_correct-positioning"],{},["div","hoverImage",[],{}]],["div",null,["_correct-positioning"],{},["div","activeImage",[],{}]]]],exports:{defaultImage:{skin:"skins.core.ImageNewSkin"},hoverImage:{skin:"skins.core.ImageNewSkin"},activeImage:{skin:"skins.core.ImageNewSkin"}},params:{fade_next:"TRANSITION",fade_prev:"TRANSITION"},paramsDefaults:{fade_next:"opacity 0.1s ease 0s",fade_prev:"opacity 0.5s ease 0s"},css:{"%link":"position:relative;display:block;z-index:0;overflow:visible;-ms-touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;","%link:after":'content:"";position:absolute;z-index:5;width:100%;height:100%;display:block;',"%defaultImage":"position:absolute;opacity:1;","%hoverImage":"position:absolute;opacity:0;","%activeImage":"position:absolute;opacity:0;","%_correct-positioning":"position:absolute;",'%[data-state~="hovered"] %defaultImage':"opacity:0;",'%[data-state~="hovered"] %hoverImage':"opacity:1;",'%[data-state~="hovered"] %activeImage':"opacity:0;",'%[data-state~="pressed"] %defaultImage':"opacity:0;",'%[data-state~="pressed"] %hoverImage':"opacity:0;",'%[data-state~="pressed"] %activeImage':"opacity:1;",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %defaultImage':"z-index:1;[fade_next]",'%[data-state~="transition_fade"][data-state~="prepare_adh"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_ahd"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_adh"] %hoverImage':"z-index:3;[fade_prev]",'%[data-state~="transition_fade"][data-state~="prepare_ahd"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_dah"] %hoverImage,%[data-state~="transition_fade"][data-state~="prepare_dha"] %activeImage,%[data-state~="transition_fade"][data-state~="prepare_had"] %defaultImage,%[data-state~="transition_fade"][data-state~="prepare_hda"] %activeImage':"z-index:2;[fade_prev]"}},e}),define("imageButton",["lodash","core","santaProps","utils","image","skins","imageButton/skins/skins.json"],function(e,t,a,n,o,s,i){function r(e){e.component.setState({$prepare:e.preTransitionClass}),n.animationFrame.request(function(){e.component.isMounted()&&e.component.setState(e.state)})}function p(e){e.state.$pressed||r({component:e,preTransitionClass:"prepare_dah",state:{$pressed:"pressed"}})}function d(e){e.state.$pressed&&r({component:e,preTransitionClass:"prepare_adh",state:{$pressed:"",$hovered:""}})}function c(e){e.state.$hovered||r({component:e,preTransitionClass:"prepare_dha",state:{$hovered:"hovered"}})}function u(e){e.state.$pressed?d(e):e.state.$hovered&&r({component:e,preTransitionClass:"prepare_hda",state:{$hovered:""}})}function m(e){e.state.$pressed||r({component:e,preTransitionClass:"prepare_had",state:{$pressed:"pressed"}})}function l(e){e.state.$pressed&&r({component:e,preTransitionClass:"prepare_ahd",state:{$pressed:""}})}function f(t,a){var o=t.props.compData[a];if(!o)return{};o=e.assign({alt:t.props.compData.alt},o);var s={id:t.props.id+a,ref:a,skinPart:a,imageData:o,containerWidth:t.props.style.width,containerHeight:t.props.style.height,displayMode:n.imageUtils.fittingTypes.LEGACY_FULL};return t.createChildComponent(o,"core.components.Image",a,s)}function g(e,t){var a={};return t.linkRef&&(a=t.linkRef,a=n.linkRenderer.renderLink(a,t.linkRenderInfo,t.rootNavigationInfo)),a.title=t.title,a.style={width:e.props.style.width,height:e.props.style.height},a}var h=t.compMixins,v={displayName:"ImageButton",mixins:[h.timeoutsMixin,h.skinBasedComp],propTypes:e.assign({compData:a.Types.Component.compData,compProp:a.Types.Component.compProp,linkRenderInfo:a.Types.Link.linkRenderInfo,rootNavigationInfo:a.Types.Component.rootNavigationInfo,style:a.Types.Component.style,windowFocusEvents:a.Types.SiteAspects.windowFocusEvents},a.santaTypesUtils.getSantaTypesByDefinition(o)),statics:{useSantaTypes:!0},getInitialState:function(){return this.blurEventAspect=this.props.windowFocusEvents,this.blurEventAspect.registerToFocusEvent("blur",this),{$opacity:"supports_opacity",$transition:"transition_"+this.props.compProp.transition,$prepare:"",$hovered:"",$pressed:""}},getSkinProperties:function(){var e=this,t={onMouseEnter:function(){c(e)},onMouseLeave:function(){u(e)},onMouseDown:function(){m(e)},onMouseUp:function(){l(e)},onDragStart:function(e){e.preventDefault()},onTouchStart:function(){p(e)},onTouchEnd:function(){d(e)},onTouchMove:function(){e.state.$pressed&&e.setTimeout(t.onTouchEnd,500)},onTouchCancel:function(){d(e)},onClick:function(){d(e)},onPointerDown:function(){p(e)},onPointerOut:function(){d(e)}};return{"":t,defaultImage:f(e,"defaultImage"),hoverImage:f(e,"hoverImage"),activeImage:f(e,"activeImage"),link:g(e,{linkRef:e.props.compData.link,title:e.props.compData.alt,linkRenderInfo:e.props.linkRenderInfo,rootNavigationInfo:e.props.rootNavigationInfo})}},onBlur:function(){u(this)},componentWillUnmount:function(){this.blurEventAspect.unregisterFromFocusEvent("blur",this)}};return t.compRegistrar.register("wysiwyg.common.components.imagebutton.viewer.ImageButton",v,!0),s.skinsMap.addBatch(i),v});
//# sourceMappingURL=imageButton.min.js.map