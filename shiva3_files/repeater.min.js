"use strict";define("repeater/santaTypes/repeaterSantaTypes",["lodash","react","santaProps"],function(e,t,n){return{setDisplayedOnlyCompsTemplateId:n.createGlobalSantaType(t.PropTypes.func,function(t){var n=t.siteAPI.getDisplayedDAL(),r=t.siteAPI.getPointers();return function(o,i,a){if(a){var s=r.components.getPage(o,t.siteData.getViewMode()),p=r.components.getComponent(i,s),l=r.full.components.getChildrenRecursivelyRightLeftRootIncludingRoot(p);e(l).map(function(e){return r.displayedOnlyComponents.getComponentTemplateId(e.id)}).forEach(function(e){return n.set(e,a)})}}},"repeaterTypes_setDisplayedOnlyCompsTemplateId"),clearDisplayedOnlyCompsTemplateId:n.createGlobalSantaType(t.PropTypes.func,function(t){var n=t.siteAPI.getDisplayedDAL(),r=t.siteAPI.getPointers();return function(o,i){var a=r.components.getPage(o,t.siteData.getViewMode()),s=r.components.getComponent(i,a),p=r.full.components.getChildrenRecursivelyRightLeftRootIncludingRoot(s);n.isExist(r.displayedOnlyComponents.getComponentTemplateId(p[0].id))&&e(p).map(function(e){return r.displayedOnlyComponents.getComponentTemplateId(e.id)}).forEach(function(e){return n.remove(e)})}},"repeaterTypes_clearDisplayedOnlyCompsTemplateId")}}),define("repeater/components/repeater",["lodash","react","santaProps","containerCommon","repeater/santaTypes/repeaterSantaTypes"],function(e,t,n,r,o){function i(e){return t.Children.map(e,function(e){return t.createElement("li",{key:e.props.id},e)})}return{displayName:"Repeater",mixins:[r.mixins.containerMixin],statics:{useSantaTypes:!0},propTypes:{id:n.Types.Component.id.isRequired,rootId:n.Types.Component.rootId.isRequired,compData:n.Types.Component.compData.isRequired,setDisplayedOnlyCompsTemplateId:o.setDisplayedOnlyCompsTemplateId.isRequired,clearDisplayedOnlyCompsTemplateId:o.clearDisplayedOnlyCompsTemplateId.isRequired},componentWillMount:function(){this.props.setDisplayedOnlyCompsTemplateId(this.props.rootId,this.props.id,this.props.compData.items[0])},componentWillUnmount:function(){this.props.clearDisplayedOnlyCompsTemplateId(this.props.rootId,this.props.id)},getSkinProperties:function(){return{inlineContent:{parentConst:t.DOM.ul,children:i(this.props.children)}}}}}),define("repeater/layouters/repeaterLayouter",["lodash","coreUtils"],function(e,t){function n(e,t,n,r){switch(e){case a.LEFT:return 0;case a.RIGHT:return t;case a.CENTER:return t/2;case a.JUSTIFY:return t/(r>1?r-1:1)*n}}function r(e,t,r,o){return e?n(e,t,r,o):0}function o(e,t,n){return e!==a.JUSTIFY?n*t:0}function i(e,t,n){return e<t?1:Math.floor((e-t)/(t+n))+1}var a=t.constants.COMP_LAYOUT_OPTIONS.REPEATER.ALIGNMENTS,s={VerticalLayoutProperties:function(t,n,r,o,i,a){var s=o||n.get(r[0]);e(r).sortBy(function(e){return n.get(t.getInnerPointer(e,["y"]))}).reduce(function(t,r){var o=e.defaults({y:t},s);return n.set(r,o),t+o.height+a.gap},0)},CardsLayoutProperties:function(t,n,s,p,l,u,c){var d=p||n.get(s[0]),m=t.getInnerPointer(l,["layout"]),y=n.get(m),g=y.width,f=u.alignment!==a.JUSTIFY?u.gap.horizontal:0,h=u.gap.vertical;c&&(g=c.width);var T=i(g,d.width,f),I=Math.min(T,s.length),C=g-f*(I-1)-d.width*I;if(e.transform(s,function(t,i,a){var l=a%T;if(a>=T){var c=h+(e.get(p,"height")||n.get(s[a-T]).height);t[l]+=c}var m=r(u.alignment,C,l,I),y=o(u.alignment,l,f),g={y:t[l],x:l*d.width+m+y};n.merge(i,e.defaults(g,p))},e.fill(Array(T),0)),g<d.width){var P=e.defaults({width:Math.max(g,d.width)},y);n.set(m,P)}}};return{setLayout:function(t,n,r,o,i){var a=n.get(t.getInnerPointer(r,["propertyQuery"])),p=n.get(t.data.getPropertyItem(a,t.components.getPageOfComponent(r).id)),l=t.components.getChildren(r);if(!e.isEmpty(l)){var u=e.map(l,function(e){return t.getInnerPointer(e,["layout"])});s[p.type](t,n,u,o,r,p,i)}}}}),define("repeater/utils/repeaterStructurePlugin",["lodash","coreUtils"],function(e,t){return function(n,r,o){var i=r(n),a=n.components[0];if(!a)return n;var s=e.reduce(i.dataItem.items,function(e,n){return e.concat(t.displayedOnlyStructureUtil.getUniqueStructure(a,n,o))},[]);return e.defaults({components:s},n)}}),define("repeater",["siteUtils","repeater/components/repeater","core","repeater/layouters/repeaterLayouter","repeater/utils/repeaterStructurePlugin"],function(e,t,n,r,o){var i="wysiwyg.viewer.components.Repeater";e.jsonUpdaterRegistrar.registerPlugin(i,o),e.jsonUpdaterRegistrar.registerLayouterComp(i,r),n.compRegistrar.register(i,t,!0)});
//# sourceMappingURL=repeater.min.js.map